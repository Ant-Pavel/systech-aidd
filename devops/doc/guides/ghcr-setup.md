# GitHub Container Registry: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å GitHub Container Registry (ghcr.io) –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Systech AIDD.

## –ß—Ç–æ —Ç–∞–∫–æ–µ GHCR?

**GitHub Container Registry (GHCR)** ‚Äî —ç—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Docker registry –æ—Ç GitHub:
- üì¶ –•—Ä–∞–Ω–µ–Ω–∏–µ Docker –æ–±—Ä–∞–∑–æ–≤
- üåç Public –∏–ª–∏ private –¥–æ—Å—Ç—É–ø
- üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
- üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è public —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

**URL –æ–±—Ä–∞–∑–æ–≤:** `ghcr.io/OWNER/IMAGE_NAME:TAG`

**–î–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:**
```
ghcr.io/OWNER/systech-aidd-bot:latest
ghcr.io/OWNER/systech-aidd-api:latest
ghcr.io/OWNER/systech-aidd-frontend:latest
ghcr.io/OWNER/systech-aidd-postgres:latest
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ workflow (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)

–í `.github/workflows/build.yml` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:

```yaml
- name: Login to GitHub Container Registry
  uses: docker/login-action@v3
  with:
    registry: ghcr.io
    username: ${{ github.actor }}
    password: ${{ secrets.GITHUB_TOKEN }}
```

**GITHUB_TOKEN** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è GitHub Actions, –Ω–∏–∫–∞–∫–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ push

1. **Push –≤ –ª—é–±—É—é –≤–µ—Ç–∫—É** ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è workflow
2. **–°–æ–±–∏—Ä–∞—é—Ç—Å—è 4 –æ–±—Ä–∞–∑–∞** –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (bot, api, frontend, postgres)
3. **–û–±—Ä–∞–∑—ã —Ç–µ–≥–∏—Ä—É—é—Ç—Å—è:**
   - `sha-<commit>` ‚Äî –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–º–∏—Ç–æ–≤
   - `branch-<name>` ‚Äî –∏–º—è –≤–µ—Ç–∫–∏
   - `latest` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è main –≤–µ—Ç–∫–∏
4. **–ü—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ GHCR** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ workflow –æ–±—Ä–∞–∑—ã –ø–æ—è–≤—è—Ç—Å—è:
- –í —Ä–∞–∑–¥–µ–ª–µ **Packages** –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è GitHub
- URL: `https://github.com/OWNER?tab=packages`

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—Ä–∞–∑—ã —Å–æ–∑–¥–∞—é—Ç—Å—è **private** (–¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—É).

### –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–∑–∞ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å visibility –Ω–∞ public:

**–®–∞–≥ 1:** –ù–∞–π—Ç–∏ package
- –û—Ç–∫—Ä–æ–π—Ç–µ `https://github.com/OWNER?tab=packages`
- –ù–∞–π–¥–∏—Ç–µ –æ–±—Ä–∞–∑ `systech-aidd-bot`

**–®–∞–≥ 2:** –û—Ç–∫—Ä—ã—Ç—å Package Settings
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ package
- –°–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É: **Package settings**

**–®–∞–≥ 3:** –ò–∑–º–µ–Ω–∏—Ç—å visibility
- –°–µ–∫—Ü–∏—è **Danger Zone**
- **Change package visibility**
- –í—ã–±–µ—Ä–∏—Ç–µ **Public**
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ

**–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Å–µ—Ö 4 –æ–±—Ä–∞–∑–æ–≤:**
- `systech-aidd-bot`
- `systech-aidd-api`
- `systech-aidd-frontend`
- `systech-aidd-postgres`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ public visibility:
- ‚úÖ –û–±—Ä–∞–∑—ã –º–æ–∂–Ω–æ pull –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –í–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º GitHub
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—É–±–ª–∏—á–Ω–æ–º –ø—Ä–æ—Ñ–∏–ª–µ

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏):
```bash
docker pull ghcr.io/OWNER/systech-aidd-bot:latest
```

## –õ–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è private –æ–±—Ä–∞–∑–æ–≤ –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

### –°–æ–∑–¥–∞–Ω–∏–µ Personal Access Token (PAT)

**–®–∞–≥ 1:** –°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω
- Settings ‚Üí Developer settings ‚Üí Personal access tokens ‚Üí Tokens (classic)
- **Generate new token (classic)**

**–®–∞–≥ 2:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞
- –ò–º—è: `GHCR Access`
- –ü—Ä–∞–≤–∞:
  - ‚úÖ `read:packages` ‚Äî pull –æ–±—Ä–∞–∑–æ–≤
  - ‚úÖ `write:packages` ‚Äî push –æ–±—Ä–∞–∑–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - ‚úÖ `delete:packages` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–®–∞–≥ 3:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑!)

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Docker

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ (–≤—Å—Ç–∞–≤–∏—Ç—å PAT –∫–∞–∫ –ø–∞—Ä–æ–ª—å)
docker login ghcr.io -u USERNAME

# –í–∞—Ä–∏–∞–Ω—Ç 2: —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
echo $GITHUB_TOKEN | docker login ghcr.io -u USERNAME --password-stdin

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ø—Ä—è–º–æ –≤ –∫–æ–º–∞–Ω–¥–µ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker login ghcr.io -u USERNAME -p TOKEN
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```bash
docker pull ghcr.io/OWNER/systech-aidd-bot:latest
```

–ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ ‚Üí –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

## –†–∞–±–æ—Ç–∞ —Å –æ–±—Ä–∞–∑–∞–º–∏

### Pull –æ–±—Ä–∞–∑–æ–≤

**–û–¥–∏–Ω –æ–±—Ä–∞–∑:**
```bash
docker pull ghcr.io/OWNER/systech-aidd-bot:latest
```

**–í—Å–µ –æ–±—Ä–∞–∑—ã:**
```bash
make docker-pull
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
docker-compose -f docker-compose.prod.yml pull
```

### –£–∫–∞–∑–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–≥–∞

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –≤ main
docker pull ghcr.io/OWNER/systech-aidd-bot:latest

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç
docker pull ghcr.io/OWNER/systech-aidd-bot:sha-abc1234

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ç–∫–∞
docker pull ghcr.io/OWNER/systech-aidd-bot:branch-develop
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤

```bash
docker images | grep systech-aidd
```

### –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤

```bash
# –û–¥–∏–Ω –æ–±—Ä–∞–∑
docker rmi ghcr.io/OWNER/systech-aidd-bot:latest

# –í—Å–µ –æ–±—Ä–∞–∑—ã –ø—Ä–æ–µ–∫—Ç–∞
docker images | grep systech-aidd | awk '{print $3}' | xargs docker rmi
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ registry

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose.prod.yml

```bash
# Pull –æ–±—Ä–∞–∑–æ–≤
make docker-pull

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make docker-up-prod

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
make docker-ps-prod

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make docker-logs-prod
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–æ–π –∏ registry

**–õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
```bash
make docker-build    # –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
make docker-up       # –ó–∞–ø—É—Å—Ç–∏—Ç—å
```

**Registry –æ–±—Ä–∞–∑—ã (testing/production):**
```bash
make docker-pull     # Pull –æ–±—Ä–∞–∑–æ–≤
make docker-up-prod  # –ó–∞–ø—É—Å—Ç–∏—Ç—å
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ owner —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `docker-compose.prod.yml` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `GITHUB_REPOSITORY_OWNER`.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
```bash
export GITHUB_REPOSITORY_OWNER=your-github-username
make docker-up-prod
```

–ò–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `docker-compose.prod.yml`, –∑–∞–º–µ–Ω–∏–≤ `${GITHUB_REPOSITORY_OWNER:-systech}` –Ω–∞ –≤–∞—à username.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞–º–∏ –Ω–∞ GitHub

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–µ—Ä—Å–∏–π

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ package –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å:
- –í—Å–µ —Ç–µ–≥–∏ –æ–±—Ä–∞–∑–∞
- –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞
- –î–∞—Ç—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –°–≤—è–∑—å —Å –∫–æ–º–º–∏—Ç–æ–º

### –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞/–≤–µ—Ä—Å–∏–∏

**Package settings** ‚Üí **Manage versions** ‚Üí **Delete**

‚ö†Ô∏è **–û—Å—Ç–æ—Ä–æ–∂–Ω–æ:** —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!

### –°–≤—è–∑—å —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º

GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç package —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º, –æ—Ç–∫—É–¥–∞ –æ–Ω –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω.

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ package –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞:
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ö–æ–º–º–∏—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–±—Ä–∞–Ω –æ–±—Ä–∞–∑
- Workflow run

## Troubleshooting

### –û—à–∏–±–∫–∞: "unauthorized: unauthenticated"

**–ü—Ä–æ–±–ª–µ–º–∞:** –Ω–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è pull private –æ–±—Ä–∞–∑–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±—Ä–∞–∑ public (—Å–º. —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ)
2. –ò–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ `docker login ghcr.io`

### –û—à–∏–±–∫–∞: "Error response from daemon: pull access denied"

**–ü—Ä–æ–±–ª–µ–º–∞:** –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –æ–±—Ä–∞–∑–∞ –∏–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏: `ghcr.io/OWNER/systech-aidd-bot:latest`
2. OWNER –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ lowercase
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–±—Ä–∞–∑ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `https://github.com/OWNER?tab=packages`

### –û—à–∏–±–∫–∞ –≤ GitHub Actions: "denied: permission_denied"

**–ü—Ä–æ–±–ª–µ–º–∞:** –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ workflow –µ—Å—Ç—å `permissions: packages: write`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `GITHUB_TOKEN` (–Ω–µ custom PAT)

### –û–±—Ä–∞–∑—ã –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Packages

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. Workflow —É–ø–∞–ª —Å –æ—à–∏–±–∫–æ–π ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Actions
2. Push –Ω–µ –ø—Ä–æ—à–µ–ª ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ workflow
3. –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ permissions

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- Actions tab ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ workflow run ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∂–¥—ã–π job

### –°—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:** –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ —á–µ—Ä–µ–∑ Package settings.

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–±—É–¥—É—â–µ–µ):**
- –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å retention policy (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ public –¥–ª—è open source

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø—É–±–ª–∏—á–Ω—ã–π ‚Äî –¥–µ–ª–∞–π—Ç–µ –æ–±—Ä–∞–∑—ã public:
- ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

### 2. –¢–µ–≥–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–∑—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- `latest` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è main/stable
- `sha-*` ‚Äî –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
- `branch-*` ‚Äî –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ç–æ–∫

### 3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ–±—Ä–∞–∑—ã –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±—Ä–∞–∑–µ
docker inspect ghcr.io/OWNER/systech-aidd-bot:latest

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ª–æ–∏
docker history ghcr.io/OWNER/systech-aidd-bot:latest
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ specific tags –≤ production

```yaml
# ‚ùå –ü–ª–æ—Ö–æ: latest –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è
image: ghcr.io/owner/app:latest

# ‚úÖ –•–æ—Ä–æ—à–æ: –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è
image: ghcr.io/owner/app:sha-abc1234
```

### 5. –û—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Deployment

### Sprint D2: –†—É—á–Ω–æ–π Deploy

–û–±—Ä–∞–∑—ã –∏–∑ GHCR –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
ssh user@server
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d
```

### Sprint D3: Auto Deploy

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –Ω–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏.

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
docker images | grep systech-aidd

# Pull –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤
make docker-pull

# –ó–∞–ø—É—Å–∫ —Å prod –æ–±—Ä–∞–∑–∞–º–∏
make docker-up-prod

# –õ–æ–≥–∏ prod –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make docker-logs-prod

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ prod –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make docker-down-prod

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
make docker-pull && make docker-restart-prod

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
make docker-down-prod && make docker-pull && make docker-up-prod
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [GitHub Container Registry Docs](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry)
- [About permissions for GitHub Packages](https://docs.github.com/en/packages/learn-github-packages/about-permissions-for-github-packages)
- [Publishing packages](https://docs.github.com/en/packages/managing-github-packages-using-github-actions-workflows/publishing-and-installing-a-package-with-github-actions)

---

**–ì–æ—Ç–æ–≤–æ! üöÄ GHCR –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

